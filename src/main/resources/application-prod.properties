# Production Environment Configuration

# Database Configuration for Production
spring.datasource.url=${DATABASE_URL:jdbc:postgresql://localhost:5432/pg_template_prod}
spring.datasource.username=${DATABASE_USERNAME:postgres}
spring.datasource.password=${DATABASE_PASSWORD:password}
spring.datasource.driver-class-name=org.postgresql.Driver

# Connection Pool Configuration for Production
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=10
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.leak-detection-threshold=60000

# MyBatis Configuration for Production
mybatis.mapper-locations=classpath:mapper/*.xml
mybatis.type-aliases-package=com.re100io.entity
mybatis.configuration.map-underscore-to-camel-case=true
mybatis.configuration.cache-enabled=true
mybatis.configuration.lazy-loading-enabled=true

# Logging Configuration for Production
logging.level.com.re100io=INFO
logging.level.org.springframework.web=WARN
logging.level.org.mybatis=WARN
logging.level.root=WARN

# Production optimizations
spring.devtools.restart.enabled=false
spring.h2.console.enabled=false

# API文档配置 - 生产环境禁用
springdoc.api-docs.enabled=false
springdoc.swagger-ui.enabled=false

# 缓存配置
spring.cache.type=caffeine
spring.cache.caffeine.spec=maximumSize=10000,expireAfterWrite=30m

# 监控配置 - 生产环境限制暴露的端点
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=never
management.endpoint.prometheus.enabled=false

# 安全配置
server.error.include-stacktrace=never
server.error.include-message=never